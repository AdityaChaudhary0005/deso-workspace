{"ast":null,"code":"import \"core-js/modules/es.promise.js\";\nimport axios from 'axios';\nexport class Wallet {\n  constructor(node, identity) {\n    this.node = void 0;\n    this.identity = void 0;\n    this.node = node;\n    this.identity = identity;\n  }\n\n  async sendDesoRequest(request) {\n    const endpoint = 'send-deso';\n    const apiResponse = (await axios.post(`${this.node.getUri()}/${endpoint}`, request)).data;\n    return await this.identity.submitTransaction(apiResponse.TransactionHex).then(() => apiResponse).catch(() => {\n      throw Error('something went wrong while signing');\n    });\n  }\n\n  async buyOrSellCreatorCoin(request) {\n    const endpoint = 'buy-or-sell-creator-coin';\n    const apiResponse = (await axios.post(`${this.node.getUri()}/${endpoint}`, request)).data;\n    return await this.identity.submitTransaction(apiResponse.TransactionHex).then(() => apiResponse).catch(() => {\n      throw Error('something went wrong while signing');\n    });\n  }\n\n  async transferCreatorCoin(request) {\n    const endpoint = 'transfer-creator-coin';\n    const apiResponse = (await axios.post(`${this.node.getUri()}/${endpoint}`, request)).data;\n    return await this.identity.submitTransaction(apiResponse.TransactionHex).then(() => apiResponse).catch(() => {\n      throw Error('something went wrong while signing');\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/tyler/Documents/DeSo/deso-workspace/libs/deso-protocol/src/lib/wallet/Wallet.ts"],"names":["axios","Wallet","constructor","node","identity","sendDesoRequest","request","endpoint","apiResponse","post","getUri","data","submitTransaction","TransactionHex","then","catch","Error","buyOrSellCreatorCoin","transferCreatorCoin"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAWA,OAAO,MAAMC,MAAN,CAAa;AAGlBC,EAAAA,WAAW,CAACC,IAAD,EAAaC,QAAb,EAAiC;AAAA,SAFpCD,IAEoC;AAAA,SADpCC,QACoC;AAC1C,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACD;;AAE2B,QAAfC,eAAe,CAC1BC,OAD0B,EAEC;AAC3B,UAAMC,QAAQ,GAAG,WAAjB;AACA,UAAMC,WAAW,GAAG,CAClB,MAAMR,KAAK,CAACS,IAAN,CAAY,GAAE,KAAKN,IAAL,CAAUO,MAAV,EAAmB,IAAGH,QAAS,EAA7C,EAAgDD,OAAhD,CADY,EAElBK,IAFF;AAGA,WAAO,MAAM,KAAKP,QAAL,CACVQ,iBADU,CACQJ,WAAW,CAACK,cADpB,EAEVC,IAFU,CAEL,MAAMN,WAFD,EAGVO,KAHU,CAGJ,MAAM;AACX,YAAMC,KAAK,CAAC,oCAAD,CAAX;AACD,KALU,CAAb;AAMD;;AAEgC,QAApBC,oBAAoB,CAC/BX,OAD+B,EAEJ;AAC3B,UAAMC,QAAQ,GAAG,0BAAjB;AACA,UAAMC,WAAW,GAAG,CAClB,MAAMR,KAAK,CAACS,IAAN,CAAY,GAAE,KAAKN,IAAL,CAAUO,MAAV,EAAmB,IAAGH,QAAS,EAA7C,EAAgDD,OAAhD,CADY,EAElBK,IAFF;AAGA,WAAO,MAAM,KAAKP,QAAL,CACVQ,iBADU,CACQJ,WAAW,CAACK,cADpB,EAEVC,IAFU,CAEL,MAAMN,WAFD,EAGVO,KAHU,CAGJ,MAAM;AACX,YAAMC,KAAK,CAAC,oCAAD,CAAX;AACD,KALU,CAAb;AAMD;;AAE+B,QAAnBE,mBAAmB,CAC9BZ,OAD8B,EAEQ;AACtC,UAAMC,QAAQ,GAAG,uBAAjB;AACA,UAAMC,WAAW,GAAG,CAClB,MAAMR,KAAK,CAACS,IAAN,CAAY,GAAE,KAAKN,IAAL,CAAUO,MAAV,EAAmB,IAAGH,QAAS,EAA7C,EAAgDD,OAAhD,CADY,EAElBK,IAFF;AAGA,WAAO,MAAM,KAAKP,QAAL,CACVQ,iBADU,CACQJ,WAAW,CAACK,cADpB,EAEVC,IAFU,CAEL,MAAMN,WAFD,EAGVO,KAHU,CAGJ,MAAM;AACX,YAAMC,KAAK,CAAC,oCAAD,CAAX;AACD,KALU,CAAb;AAMD;;AAnDiB","sourcesContent":["import axios from 'axios';\r\nimport {\r\n  SendDeSoRequest,\r\n  SendDeSoResponse,\r\n  TransferCreatorCoinRequest,\r\n  TransferCreatorCoinResponse,\r\n} from 'deso-protocol-types';\r\nimport { Identity } from '../identity/Identity';\r\n\r\nimport { Node } from '../node/Node';\r\n\r\nexport class Wallet {\r\n  private node: Node;\r\n  private identity: Identity;\r\n  constructor(node: Node, identity: Identity) {\r\n    this.node = node;\r\n    this.identity = identity;\r\n  }\r\n\r\n  public async sendDesoRequest(\r\n    request: Partial<SendDeSoRequest>\r\n  ): Promise<SendDeSoResponse> {\r\n    const endpoint = 'send-deso';\r\n    const apiResponse = (\r\n      await axios.post(`${this.node.getUri()}/${endpoint}`, request)\r\n    ).data;\r\n    return await this.identity\r\n      .submitTransaction(apiResponse.TransactionHex)\r\n      .then(() => apiResponse)\r\n      .catch(() => {\r\n        throw Error('something went wrong while signing');\r\n      });\r\n  }\r\n\r\n  public async buyOrSellCreatorCoin(\r\n    request: Partial<SendDeSoRequest>\r\n  ): Promise<SendDeSoResponse> {\r\n    const endpoint = 'buy-or-sell-creator-coin';\r\n    const apiResponse = (\r\n      await axios.post(`${this.node.getUri()}/${endpoint}`, request)\r\n    ).data;\r\n    return await this.identity\r\n      .submitTransaction(apiResponse.TransactionHex)\r\n      .then(() => apiResponse)\r\n      .catch(() => {\r\n        throw Error('something went wrong while signing');\r\n      });\r\n  }\r\n\r\n  public async transferCreatorCoin(\r\n    request: Partial<TransferCreatorCoinRequest>\r\n  ): Promise<TransferCreatorCoinResponse> {\r\n    const endpoint = 'transfer-creator-coin';\r\n    const apiResponse = (\r\n      await axios.post(`${this.node.getUri()}/${endpoint}`, request)\r\n    ).data;\r\n    return await this.identity\r\n      .submitTransaction(apiResponse.TransactionHex)\r\n      .then(() => apiResponse)\r\n      .catch(() => {\r\n        throw Error('something went wrong while signing');\r\n      });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}